(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{355:function(t,a,s){"use strict";s.r(a);var n=s(19),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"react-10-服务端渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-10-服务端渲染"}},[t._v("#")]),t._v(" React-10 服务端渲染")]),t._v(" "),s("h2",{attrs:{id:"一、csr与ssr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、csr与ssr"}},[t._v("#")]),t._v(" 一、CSR与SSR")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://notecdn.heny.vip/images/react-10_%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93-01.png",alt:"image"}})]),t._v(" "),s("ol",[s("li",[t._v("CSR：客户端渲染（Client Side Render）\n过程：")])]),t._v(" "),s("ul",[s("li",[t._v("①浏览器发送请求")]),t._v(" "),s("li",[t._v("②服务器返回空白HTML(HTML里包含一个root节点和js文件)")]),t._v(" "),s("li",[t._v("③浏览器下载js文件")]),t._v(" "),s("li",[t._v("④浏览器运行react代码")]),t._v(" "),s("li",[t._v("⑤页面准备就绪")])]),t._v(" "),s("p",[t._v("即：当前页面是由js文件渲染出来的；")]),t._v(" "),s("p",[t._v("SEO (搜索引擎优化)，搜索关键词的时候排名，对大多数搜索引擎，不识别JavaScript 内容，只识别 HTML 内容。 （注：原则上可以不用服务端渲染时最好不用，所以如果只有 SEO 要求，可以用预渲染等技术去替代；")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("SSR：服务端渲染（Server Side Render）\n过程：")])]),t._v(" "),s("ul",[s("li",[t._v("浏览器发送请求")]),t._v(" "),s("li",[t._v("服务器运行react代码生成页面并返回HTML页面")]),t._v(" "),s("li",[t._v("浏览器下载HTML文档")]),t._v(" "),s("li",[t._v("页面准备就绪")])]),t._v(" "),s("p",[t._v("即：当前页面是由服务器生成好给到浏览器的；")]),t._v(" "),s("h2",{attrs:{id:"二、reactdomserver类库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、reactdomserver类库"}},[t._v("#")]),t._v(" 二、ReactDOMServer类库")]),t._v(" "),s("p",[t._v("react-dom/server包提供了组件的服端渲染功能，返回值是一个html")]),t._v(" "),s("ol",[s("li",[t._v("渲染为html：renderToString")])]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[t._v("ReactDOMServer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderToString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("渲染为静态HTML：renderToStaticMarkup\n该方法与renderToString方法类似，但这个方法不会生成额外的DOM特性，如：data-react-id等 React内部所使用的特性。当你想使用一个简单的静态页面生成器时这个方法非常有用，它会剥离额外的特性且会节省大量字节。")])]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[t._v("ReactDOMServer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderToStaticMarkup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("简单用法：在页面没有展示时，渲染的是该html，给页面添加骨架屏")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" html "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ReactDOMServer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderToStaticMarkup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("skeleton")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" html\nReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("App")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// window.root相当于上面的获取id为root的")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);