(window.webpackJsonp=window.webpackJsonp||[]).push([[143],{452:function(a,t,s){"use strict";s.r(t);var n=s(19),v=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"canvas"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#canvas"}},[a._v("#")]),a._v(" canvas")]),a._v(" "),s("h2",{attrs:{id:"一、canvas入门"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、canvas入门"}},[a._v("#")]),a._v(" 一、canvas入门")]),a._v(" "),s("ol",[s("li",[a._v("canvas属性html5新增属性，它是一个画布，其本身不具备绘制能力；")]),a._v(" "),s("li",[a._v("绘制工具是javascript，使用getContext('2d')绘制；")]),a._v(" "),s("li",[a._v("canvas有默认宽和高（300*150），默认颜色黑色，黑色比较浅；")]),a._v(" "),s("li",[a._v("定义canvas的宽高")])]),a._v(" "),s("p",[a._v("标签属性直接定义width+height，有点类似于img图片标签定义，省略了px单位；")]),a._v(" "),s("p",[a._v("不能在css里面定义width+height，会造成坐标点的拉伸和变形，绘制图像造成错误变形；")]),a._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[a._v("img有alt属性，canvas的alt属性写在标签内部（标签内容），当canvas不被支持才显示内容；")]),a._v(" "),s("li",[a._v("canvas兼容IE9+，使用canvas就不能考虑IE8-用户；")]),a._v(" "),s("li",[a._v("canvas的坐标系问题：符合正常开发者的页面浏览顺序，从左到右为x正方向，从上到下y为正方向；")]),a._v(" "),s("li",[a._v("如果需要canvas居中，需要转块在margin:0 auto;")])]),a._v(" "),s("p",[a._v("设置canvas的宽高")]),a._v(" "),s("p",[a._v("使用canvas.width设置，不要使用getContext之后的变量设置；")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" canvas "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'.canvas'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" ctx "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" canvas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'2d'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\ncanvas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("width "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("300")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("温馨提示：")]),a._v(" "),s("p",[a._v("在vscode编辑器中，只要是通过id方式获取的canvas都没有自动补全功能；")]),a._v(" "),s("h2",{attrs:{id:"二、绘制矩形"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、绘制矩形"}},[a._v("#")]),a._v(" 二、绘制矩形")]),a._v(" "),s("ol",[s("li",[a._v("直接绘制")])]),a._v(" "),s("p",[a._v("（1）绘制实心矩形：cas.fillRect(x,y,w,h)；")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("     x,y 起始坐标轴；w,h 绘制宽高；\n")])])]),s("p",[a._v("（2）绘制空心矩形：cas.strokeRect(x,y,w,h);")]),a._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[a._v("路径绘制")])]),a._v(" "),s("p",[a._v("（1）开始路径：cas.beginPath();")]),a._v(" "),s("p",[a._v("（2）绘制：cas.rect(x,y,w,h);")]),a._v(" "),s("p",[a._v("（3）闭合路径：cas.closePath();")]),a._v(" "),s("p",[a._v("（4）绘制：cas.fill()或cas.stroke()；")]),a._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[a._v("清除画布：cas.clearRect(x,y,w,h);")])]),a._v(" "),s("p",[a._v("x,y：起始位置，w,h：要清除的内容宽高；")]),a._v(" "),s("h2",{attrs:{id:"三、描边-填充同时存在"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、描边-填充同时存在"}},[a._v("#")]),a._v(" 三、描边+填充同时存在")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("cas.fillStyle='red' 填充颜色")])]),a._v(" "),s("li",[s("p",[a._v("cas.strokeStyle='green' 线条颜色")])]),a._v(" "),s("li",[s("p",[a._v("cas.lineWidth=10 线条的两边各5px")]),a._v(" "),s("p",[a._v("注意： 所有的样式声明和属性设置都必须要写在绘制前面；（重点）")])])]),a._v(" "),s("p",[a._v("继承：以上属性都可以继承，后续的可以不用再写，如有需要改变可以写;")]),a._v(" "),s("p",[a._v("权重：越靠后的绘制内容，就越靠上层显示；")]),a._v(" "),s("h2",{attrs:{id:"四、绘制三角形"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、绘制三角形"}},[a._v("#")]),a._v(" 四、绘制三角形")]),a._v(" "),s("p",[a._v("只能通过路径绘制三角形，闭合路径首尾端点自动实现闭合；")]),a._v(" "),s("ol",[s("li",[a._v("起始端点：cas.moveTo(x,y)有且仅有一个起始端点；")]),a._v(" "),s("li",[a._v("连接端点：cas.lineTo(x,y)可以有多个；")])]),a._v(" "),s("p",[a._v("最后一条边可以使用闭合路径，会自动连接，如果不使用闭合路劲，会有bug")]),a._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[a._v("闭合连接：cas.closePath()；")])]),a._v(" "),s("p",[a._v("如果没有闭合路径，加此属性也能实现效果(第三条边)，但是有个bug，它不具备闭合路径，绘制三角形时会发生缺角；")]),a._v(" "),s("h2",{attrs:{id:"五、绘制圆形"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、绘制圆形"}},[a._v("#")]),a._v(" 五、绘制圆形")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("也是只能通过路径绘制，以圆规的原理画圆")])]),a._v(" "),s("li",[s("p",[a._v("因为y轴由向下为正，所以坐标系的象限也改变了，为顺时针；")])]),a._v(" "),s("li",[s("p",[a._v("cas.arc(x,y,r,angleStart,angleEnd,false);")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("  x,y表示圆心的坐标，r绘制半径；\n\n  angleStart,angleEnd为起始弧度和终止弧度\n\n  false：是否逆时针，默认为false；\n")])])])]),a._v(" "),s("li",[s("p",[a._v("绘制半径根据Math.PI来计算，0的位置在右边，画圆：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v(" cas.arc(250,250,250,0,Math.PI*2);\n")])])])])]),a._v(" "),s("p",[a._v("圆形的坐标系：")]),a._v(" "),s("p",[s("img",{attrs:{src:"http://notecdn.heny.vip/images/canvas-01.png",alt:"image"}})]),a._v(" "),s("h2",{attrs:{id:"六、碰撞的小球"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、碰撞的小球"}},[a._v("#")]),a._v(" 六、碰撞的小球")]),a._v(" "),s("ol",[s("li",[a._v("创建getContext('2d')之后，返回一个对象，里面有canvas对象，里面有各种属性；")]),a._v(" "),s("li",[a._v("常用的canvas对象属性有：cas.canvas.width 画布的宽，cas.canvas.height 画布的高")]),a._v(" "),s("li",[a._v("判断边界：和")])]),a._v(" "),s("p",[a._v("画布的宽高减去小球的半径，为小球的正方向边缘；")]),a._v(" "),s("p",[a._v("当x，y值小于小球的半径时，为负方向边缘；")]),a._v(" "),s("h2",{attrs:{id:"七、其他绘制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#七、其他绘制"}},[a._v("#")]),a._v(" 七、其他绘制")]),a._v(" "),s("ol",[s("li",[a._v("lineCap（线帽）")])]),a._v(" "),s("p",[a._v("（1）控制线条末端的形状")]),a._v(" "),s("p",[a._v("（2）属性值：butt(默认没有)、round(圆形)、square(方形)")]),a._v(" "),s("p",[a._v("（3）示例：cas.lineCap='butt'")]),a._v(" "),s("p",[a._v("（4）圆形线帽：以lineWidth的一半为两头的半径；")]),a._v(" "),s("p",[a._v("画线不需要闭合；")]),a._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[a._v("lineJoin（连接）")])]),a._v(" "),s("p",[a._v("（1）线条的连接方式，控制线条相交的方式是")]),a._v(" "),s("p",[a._v("（2）属性值：圆交(round)、斜交(bevel)、斜接(mitter)")]),a._v(" "),s("p",[a._v("（3）示例：cas.lineJoin='mitter'")]),a._v(" "),s("h2",{attrs:{id:"八、绘制阴影"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#八、绘制阴影"}},[a._v("#")]),a._v(" 八、绘制阴影")]),a._v(" "),s("ol",[s("li",[a._v("cas.shadowOffsetX = num;  //阴影在x轴的偏移量")]),a._v(" "),s("li",[a._v("cas.shadowOffsetY = num; //阴影在y轴的偏移量")]),a._v(" "),s("li",[a._v("cas.shadowColor = 'red';   //阴影的颜色")]),a._v(" "),s("li",[a._v("cas.shadowBlur = num;    //阴影模糊程度；")])]),a._v(" "),s("h2",{attrs:{id:"九、裁剪"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#九、裁剪"}},[a._v("#")]),a._v(" 九、裁剪")]),a._v(" "),s("ol",[s("li",[a._v("裁剪之后只能在当前区域显示")]),a._v(" "),s("li",[a._v("cas.clip()表示裁剪区域，分三个步骤：")])]),a._v(" "),s("p",[a._v("（1）绘制裁剪区域")]),a._v(" "),s("p",[a._v("（2）cas.clip();")]),a._v(" "),s("p",[a._v("（3）再绘制其他图形，查看裁剪效果；")]),a._v(" "),s("h2",{attrs:{id:"十、绘制渐变"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十、绘制渐变"}},[a._v("#")]),a._v(" 十、绘制渐变")]),a._v(" "),s("ol",[s("li",[a._v("线性渐变")])]),a._v(" "),s("p",[a._v("（1）创建一个线性渐变：cas.createLinearGradient(x1,y1,x2,y2);")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("      x1,y1：渐变的起始点，x2,y2：渐变的终点；\n")])])]),s("p",[a._v("（2）线性渐变是根据一条线来画的，里面的每一个分段代表一个断点；")]),a._v(" "),s("p",[a._v("（3）添加断点：变量.addColorStop(值,颜色)；添加一个断点，可以无限添加；")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("     断点的第一个参数不能超过1；\n\n     值可以是百分比，也可以是0-1的小数；\n")])])]),s("p",[a._v("（3）使用：添加出来的就相当于一个颜色，给对应的fillStyle赋值就可以了；")]),a._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[a._v("径向渐变")])]),a._v(" "),s("p",[a._v("（1）创建径向渐变：cas.createRadialGradient(x1,y1,r1,x2,y2,r2);")]),a._v(" "),s("p",[a._v("x1,y1,r1 径向小圆的圆心坐标+半径；")]),a._v(" "),s("p",[a._v("x2,y2,r2 径向大圆的圆心坐标+半径；")]),a._v(" "),s("p",[a._v("（2）相当于水滴一环一环的改变；")]),a._v(" "),s("h2",{attrs:{id:"十一、绘制文本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十一、绘制文本"}},[a._v("#")]),a._v(" 十一、绘制文本")]),a._v(" "),s("ol",[s("li",[a._v("cas.fillText(字符串,x,y,[options]) 绘制实心文字（使用最多）")]),a._v(" "),s("li",[a._v("cas.strokeText(字符串,x,y,[options]) 绘制空心文字")]),a._v(" "),s("li",[a._v("参数：第一个为需要写入的字符串，x轴y轴坐标，第三个为可选的最大像素宽度")]),a._v(" "),s("li",[a._v("属性：")])]),a._v(" "),s("p",[a._v("（1）cas.font='italic bold 30px/50px 楷体；字号和字体不能省略；")]),a._v(" "),s("p",[a._v("（2）cas.textAlign='center'; 可选：start、end、center；（不建议使用left,right）；相对于起始点对齐；")]),a._v(" "),s("p",[a._v("（3）cas.textBaseline = 'middle'; 可选：top、middle、bottom；")]),a._v(" "),s("p",[a._v('textBaseline可选的值："top" 、 "hanging" 、 "middle" 、 "alphabetic" 、"ideographic" 和 "bottom" 。')]),a._v(" "),s("p",[a._v("从上往下走;")]),a._v(" "),s("h2",{attrs:{id:"十二、cos、sin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十二、cos、sin"}},[a._v("#")]),a._v(" 十二、cos、sin")]),a._v(" "),s("ol",[s("li",[a._v("对应的三角函数，用于计算x轴和y轴的；")]),a._v(" "),s("li",[a._v("Math.cos(角度)  = 邻边/斜边")]),a._v(" "),s("li",[a._v("Math.sin(角度) = 对边/斜边")]),a._v(" "),s("li",[a._v("Math.PI：不带小括号，为180度；")])]),a._v(" "),s("h2",{attrs:{id:"十三、改变圆心点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十三、改变圆心点"}},[a._v("#")]),a._v(" 十三、改变圆心点")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("平移画布中心点：cas.translate(x,y);")])]),a._v(" "),s("li",[s("p",[a._v("旋转画布：cas.rotate();")]),a._v(" "),s("p",[a._v("js不接受deg，仅支持Math.PI")])]),a._v(" "),s("li",[s("p",[a._v("保存当前状态：cas.save();")])]),a._v(" "),s("li",[s("p",[a._v("恢复保存的状态：cas.restore();")])])]),a._v(" "),s("p",[a._v("如果画布有旋转或平移，则需要保存和恢复一下，否则第二次将会发生变化；")]),a._v(" "),s("h2",{attrs:{id:"十四、图像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十四、图像"}},[a._v("#")]),a._v(" 十四、图像")]),a._v(" "),s("ol",[s("li",[a._v("绘制图像与绘制重复图像")])]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" img "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("src "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'./1.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[s("p",[a._v("因为img的加载速度是滞缓与js的运行速度的；所以需要图片加载完成才能绘制\nimg.onload =function(){};")])]),a._v(" "),s("li",[s("p",[a._v("绘制图像")])])]),a._v(" "),s("p",[a._v("（1） 3参数法：cas.drawImage(img,x,y)")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("    img 表示当前的图片\n\n    x,y表示绘制图像的起点；\n")])])]),s("p",[a._v("（2）5参数法（带宽高）：cas.drawImage(img,x,y,w,h)；")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("    w,h 表示绘制的图像宽高；\n")])])]),s("p",[a._v("（3）9参数法（剪裁加绘制）：cas.drawImage(img,x1,y1,w1,h1,x,y,w,h)")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("img表示原始图片\n\nx1,y1表示剪裁图像的起始位置，\n\nw1,h1表示剪裁图像的宽高\n\nx,y表示剪裁后的图像的绘制位置\n\nw,h 表示剪裁后的图像的显示宽高；\n")])])]),s("p",[a._v("截取位置可以通过ps来获取定点；尺寸--标注，获取起始点，再获取宽高；")]),a._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[a._v("绘制重复图像")])]),a._v(" "),s("p",[a._v("（1）创建")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" pattern "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("cas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("createPattern")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'repeat'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("（2）作为颜色填充进矩形;")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("cas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("fillStyle "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" pattern"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\ncas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("fillRect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("如果需要描边，可以赋值给strokeStyle=''，并设置lineWith值;")]),a._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[a._v("下载绘制的canvas图片")])]),a._v(" "),s("p",[a._v("（1）获取图片的base64地址")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("canvas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("toDataURL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'image/jpeg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("p",[a._v("（2）将图片转换成file文件")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// canvas.toBlob(callback, [type='image/png'], [encoderOptions])")]),a._v("\n\ncanvas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("toBlob")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("blob")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("let")]),a._v(" newFile "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("File")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("blob"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'new-img'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("type"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" blob"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'image/jpeg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 第三个为压缩质量, 当type类型为jpeg或webp时可用;")]),a._v("\n")])])]),s("h2",{attrs:{id:"十五、画时钟"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十五、画时钟"}},[a._v("#")]),a._v(" 十五、画时钟")]),a._v(" "),s("p",[a._v("大致分为两步")]),a._v(" "),s("p",[a._v("（1）绘制手表 Clock()")]),a._v(" "),s("p",[a._v("（2）动起来 setInterval()")]),a._v(" "),s("p",[a._v("1.绘制手表")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("1.1绘制表盘\n")])])]),s("p",[a._v("（1）每次绘制时，建议清除一下画布；")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("    1.1.1画圆\n\n    1.1.2渐变\n")])])]),s("p",[a._v("给圆填充颜色；")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("1.2绘制刻度\n")])])]),s("p",[a._v("（1）刻度需要平移画布到中心点，")]),a._v(" "),s("p",[a._v("（2）可以通过旋转")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("    1.2.1绘制时针刻度\n\n    1.2.2绘制分针刻度\n\n1.3绘制指针\n\n    1.3.0获取世界时间\n\n    1.3.1绘制时针\n")])])]),s("p",[a._v("（1）时针跟着分针和秒针一起动的；")]),a._v(" "),s("p",[a._v("（2）获取正确的时针，应该是需要加上分针和秒针；")]),a._v(" "),s("p",[a._v("（3）hours = now.getHours+minutes/60+second/60/60；")]),a._v(" "),s("p",[a._v("是将分钟和秒钟转化为小时;")]),a._v(" "),s("p",[a._v("（4）时针对应的度数是30度；")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("    1.3.2绘制分针\n\n    1.3.3绘制秒针\n\n     1.3.4绘制表钉\n\n1.4绘制文字\n\n    1.4.1绘制商标\n\n    1.4.2绘制十二时      \n")])])]),s("p",[a._v("（1）需要根据Math.sin()和Math.cos()，计算出x和y的值;")]),a._v(" "),s("p",[a._v("x = Math.cos(角度)*半径")]),a._v(" "),s("p",[a._v("y = Math.sin(角度)*半径")])])}),[],!1,null,null,null);t.default=v.exports}}]);