(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{359:function(s,t,a){"use strict";a.r(t);var e=a(19),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"server-03-linux常用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#server-03-linux常用"}},[s._v("#")]),s._v(" Server-03 linux常用")]),s._v(" "),a("h2",{attrs:{id:"本地直接连接linux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地直接连接linux"}},[s._v("#")]),s._v(" 本地直接连接linux")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" root@39.107.82.176\n")])])]),a("h2",{attrs:{id:"使用xshell上传网站"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用xshell上传网站"}},[s._v("#")]),s._v(" 使用xshell上传网站")]),s._v(" "),a("ol",[a("li",[s._v("安装：yum install lrzsz -y")]),s._v(" "),a("li",[s._v("检查安装是否完成：rpm -qa | grep lrzsz")]),s._v(" "),a("li",[s._v("基本操作：")])]),s._v(" "),a("ul",[a("li",[s._v("上传：rz 直接弹出上传窗口")]),s._v(" "),a("li",[s._v("下载：sz 直接弹出下载窗口")])]),s._v(" "),a("h2",{attrs:{id:"本地cmd直接操作文件上传"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地cmd直接操作文件上传"}},[s._v("#")]),s._v(" 本地cmd直接操作文件上传")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" build.gz root@107.172.27.254:/home/test.txt\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上传文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" test.txt root@107.172.27.254:/home    \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r dist root@107.172.27.254:/home/test   \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上传目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r dist root@107.172.27.254:/home    \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上传当前目录所有文件和目录到远程")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r * root@39.107.82.176:/home\n")])])]),a("p",[s._v("解决scp不需要输入密码直接上传")]),s._v(" "),a("ol",[a("li",[s._v("在linux输入")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("ssh-keygen -t rsa\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root/.ssh\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("在本地执行以下命令，并一路回车创建ssh密钥")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("ssh-keygen -t rsa\n")])])]),a("p",[s._v("之后到C:\\Users\\Administrator.ssh，输入以下命令")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" id_rsa.pub root@39.107.82.176\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("文件上传之后到linux输入命令")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root/.ssh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" id_rsa.pub "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" authorized_keys\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("已经可以测试不输入密码直接上传了")])]),s._v(" "),a("h2",{attrs:{id:"本地直接打包加上传"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地直接打包加上传"}},[s._v("#")]),s._v(" 本地直接打包加上传")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到build目录里")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ./build\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -cvf build.gz *\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上传到www/wwwroot/chart目录")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" build.gz root@39.107.82.176:/www/wwwroot/chart\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 连接到linux,并输入密码")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" root@39.107.82.176\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到www/wwwroot/chart目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /www/wwwroot/chart "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xvf build.gz\n")])])]),a("h2",{attrs:{id:"填写脚本自动上传"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#填写脚本自动上传"}},[s._v("#")]),s._v(" 填写脚本自动上传")]),s._v(" "),a("ol",[a("li",[s._v("本地脚本，在项目根目录创建文件夹delony.sh，只要是sh后缀都行")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ./build\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -cvf build.gz *\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" build.gz root@39.107.82.176:/www/wwwroot/chart\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" root@39.107.82.176\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("运行之后会直接到服务器")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" delony.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" delony.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" delony.sh\n\n// 写入以下代码\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /www/wwwroot/chart\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xvf build.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf build.gz\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("之后点击一下delony.sh，之后在到服务器运行：sh ./delony.sh即可")])]),s._v(" "),a("h2",{attrs:{id:"centos保持node项目后台运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos保持node项目后台运行"}},[s._v("#")]),s._v(" Centos保持node项目后台运行")]),s._v(" "),a("ol",[a("li",[s._v("安装：npm install forever -g（建议先设置好npm包源为淘宝源）")]),s._v(" "),a("li",[s._v("使用方法")])]),s._v(" "),a("p",[s._v("（1）启动：forever start app.js （有两个warn不用管）")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://notecdn.heny.vip/images/server-03_linux%E5%B8%B8%E7%94%A8-01.png",alt:"image"}})]),s._v(" "),a("p",[s._v("（2）查看运行的项目：forever list")]),s._v(" "),a("p",[s._v("（3）停止服务：forever stop [pid]")]),s._v(" "),a("p",[s._v("（4）停止所有forever服务：forever stopall")]),s._v(" "),a("h2",{attrs:{id:"node项目保持后台运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node项目保持后台运行"}},[s._v("#")]),s._v(" node项目保持后台运行")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("全局安装：npm install forever -g")])]),s._v(" "),a("li",[a("p",[s._v("启动某个项目：forever start 文件名")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://notecdn.heny.vip/images/linux%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C-01.png",alt:"image"}})])]),s._v(" "),a("li",[a("p",[s._v("查看后台运行的项目：forever list")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://notecdn.heny.vip/images/linux%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C-02.png",alt:"image"}})])]),s._v(" "),a("li",[a("p",[s._v("停止某个项目：forever stop [pid]")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://notecdn.heny.vip/images/linux%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C-03.png",alt:"image"}})])]),s._v(" "),a("li",[a("p",[s._v("停止所有项目：forever stopall")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);