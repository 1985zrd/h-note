(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{431:function(t,a,s){"use strict";s.r(a);var n=s(19),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"node-03-fs文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#node-03-fs文件"}},[t._v("#")]),t._v(" node-03 fs文件")]),t._v(" "),s("h2",{attrs:{id:"fs系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fs系统"}},[t._v("#")]),t._v(" fs系统")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("fs模块中提供的方法一般有两种：")]),t._v(" "),s("ol",[s("li",[t._v("同步[有返回值]，")]),t._v(" "),s("li",[t._v("异步[有回调函数]；")])]),t._v(" "),s("p",[t._v("带Sync的都是同步的，需要变量来接收；")])])]),t._v(" "),s("p",[t._v("在获取文件出错时，异步可以使用err来处理错误，同步可以使用try...catch来捕获")]),t._v(" "),s("p",[t._v("使用异步无法保证处理顺序，可以将后续操作放在异步的回调函数里面处理即可；")]),t._v(" "),s("p",[t._v("使用异步必须带回调函数，否则会抛出错误")]),t._v(" "),s("p",[t._v("文件路径：")]),t._v(" "),s("p",[s("code",[t._v("process.cwd()")]),t._v("  指定当前工作目录")]),t._v(" "),s("h2",{attrs:{id:"一、不完全读写（对大文件操作的，可以分段操作）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、不完全读写（对大文件操作的，可以分段操作）"}},[t._v("#")]),t._v(" 一、不完全读写（对大文件操作的，可以分段操作）")]),t._v(" "),s("h3",{attrs:{id:"对文件操作的方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对文件操作的方法"}},[t._v("#")]),t._v(" 对文件操作的方法")]),t._v(" "),s("p",[t._v("打开文件："),s("code",[t._v("fs.open()")]),t._v("，"),s("code",[t._v("fs.openSync()")]),t._v("；")]),t._v(" "),s("p",[t._v("读取文件："),s("code",[t._v("fs.read()")]),t._v("，"),s("code",[t._v("fs.readSync()")]),t._v("；")]),t._v(" "),s("p",[t._v("写文件   ："),s("code",[t._v("fs.write()")]),t._v("，"),s("code",[t._v("fs.writeSync()")]),t._v("；")]),t._v(" "),s("p",[t._v("关闭文件："),s("code",[t._v("fs.close()")]),t._v("，"),s("code",[t._v("fs.closeSync()")]),t._v("；")]),t._v(" "),s("p",[s("code",[t._v("fs.readFile()")]),t._v(" 相当于fs.open()---fs.read()---fs.close()；")]),t._v(" "),s("h3",{attrs:{id:"常用的文件系统标志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用的文件系统标志"}},[t._v("#")]),t._v(" 常用的文件系统标志")]),t._v(" "),s("p",[s("code",[t._v("r")]),t._v("：  读取，文件不存在则报错；")]),t._v(" "),s("p",[s("code",[t._v("r+")]),t._v("：读写，文件不存在则报错；")]),t._v(" "),s("p",[s("code",[t._v("w")]),t._v("： 写入，文件不存在则自动创建，如果有会覆盖；")]),t._v(" "),s("p",[s("code",[t._v("w+")]),t._v("：读写，文件不存在则自动创建；")]),t._v(" "),s("p",[s("code",[t._v("a")]),t._v("：   追加内容，文件不存在则自动创建；")]),t._v(" "),s("p",[s("code",[t._v("a+")]),t._v("：读取并追加内容，文件不存在自动创建；")]),t._v(" "),s("h3",{attrs:{id:"打开文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打开文件"}},[t._v("#")]),t._v(" 打开文件")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("异步："),s("code",[t._v("fs.open(path[,flags],callback)")]),t._v(";")]),t._v(" "),s("p",[s("code",[t._v("path")]),t._v(":读取文件的路径；")]),t._v(" "),s("p",[s("code",[t._v("flags")]),t._v("：文件系统标志，加引号；")]),t._v(" "),s("p",[s("code",[t._v("callback")]),t._v("：两个形参err,fd；   fd是文件句柄，方便后续使用；")])]),t._v(" "),s("li",[s("p",[t._v("同步："),s("code",[t._v("fs.openSync")]),t._v("返回一个fd；")]),t._v(" "),s("p",[t._v("读文件需要加'r'，写文件需要加'w'；")]),t._v(" "),s("p",[t._v("open主要是获取到fd，进行一步read和write操作；")])])]),t._v(" "),s("p",[t._v("fs.open(filepath,'r',(err,fd){ console.log('哈哈',fd) })")]),t._v(" "),s("h3",{attrs:{id:"读文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#读文件"}},[t._v("#")]),t._v(" 读文件")]),t._v(" "),s("ol",[s("li",[t._v("异步："),s("code",[t._v("fs.read(fd,buffer,offset,length,postion,callback)")]),t._v(";\n"),s("ul",[s("li",[s("code",[t._v("fd")]),t._v("：指定文件中读取，在open之后的fd形参，指向已打开的文件；")]),t._v(" "),s("li",[s("code",[t._v("buffer")]),t._v("：数据将写入的缓冲区，需要先声明一个缓冲区；")]),t._v(" "),s("li",[s("code",[t._v("offset")]),t._v("：是buffer中从第几个开始读取；")]),t._v(" "),s("li",[s("code",[t._v("length")]),t._v("：读取多少个字节；")]),t._v(" "),s("li",[s("code",[t._v("position")]),t._v("：读取文件初始位置")]),t._v(" "),s("li",[s("code",[t._v("callback")]),t._v(": 回调函数有三个参数(err,bytesRead,buffer)；\n"),s("ul",[s("li",[t._v("bytesRead：返回已经读取了多少个字节；")]),t._v(" "),s("li",[t._v("buffer：缓冲器里面的内容；")])])])])]),t._v(" "),s("li",[t._v("同步："),s("code",[t._v("fs.readSync")]),t._v("返回一个bytesRead；")])]),t._v(" "),s("p",[t._v("例：fs.read(fd,buffer,3,4,5,(err,bytesRead,buffer)=>{})；")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" buf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Buffer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alloc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建6字节长度的buf缓存对象")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打开文件")]),t._v("\nfs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'r'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 读取文件")]),t._v("\n    fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("read")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("buf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("bytes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("buffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buffer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可以继续读取")]),t._v("\n        fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("read")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("buf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("bytes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("buffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("buffer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"写入文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#写入文件"}},[t._v("#")]),t._v(" 写入文件")]),t._v(" "),s("blockquote",[s("p",[t._v("需要在open之后")])]),t._v(" "),s("p",[s("code",[t._v("fs.write(fd,buffer,offset,length,position,callback)")]),t._v(";")]),t._v(" "),s("h3",{attrs:{id:"文件关闭"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件关闭"}},[t._v("#")]),t._v(" 文件关闭")]),t._v(" "),s("p",[s("code",[t._v("fs.close(fd,callback)")])]),t._v(" "),s("h2",{attrs:{id:"二、完全读写"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、完全读写"}},[t._v("#")]),t._v(" 二、完全读写")]),t._v(" "),s("h3",{attrs:{id:"读取文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#读取文件"}},[t._v("#")]),t._v(" 读取文件")]),t._v(" "),s("p",[s("code",[t._v("fs.readFile(path[,options],callback);")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("option")]),t._v("：默认为r；")]),t._v(" "),s("li",[s("code",[t._v("callback")]),t._v("：两个参数：err,data;")])]),t._v(" "),s("p",[t._v("readFile加入一个对象：{encoding:'utf-8'}，可以不用.toString()来获取文件内容；")]),t._v(" "),s("p",[t._v("同步方式："),s("code",[t._v("fs.readFileSync(path[,option])")]),t._v("；返回data；")]),t._v(" "),s("p",[s("code",[t._v("fs.readFileSync(filepath,'utf-8')")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./1.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//data默认是buffer")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"写入文件-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#写入文件-2"}},[t._v("#")]),t._v(" 写入文件")]),t._v(" "),s("p",[s("code",[t._v("fs.writeFile(file,data[,options],callback);")])]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("options")]),t._v("：常用于要修改文件系统标志时，默认是'w'，所以需要改a用来追加；")]),t._v(" "),s("p",[t._v("修改标志："),s("code",[t._v("{flag:'a'}")]),t._v("；")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("callback")]),t._v("：一个err参数；")])])]),t._v(" "),s("p",[t._v("同步："),s("code",[t._v("fs.writeFileSync(file,data[,{flag:''}])")]),t._v("没有返回值；\\n可以换行")]),t._v(" "),s("h3",{attrs:{id:"文件追加"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件追加"}},[t._v("#")]),t._v(" 文件追加")]),t._v(" "),s("p",[t._v("异步："),s("code",[t._v("fs.appendFile(filename,data[,options],callback)")])]),t._v(" "),s("ul",[s("li",[t._v("filename：读取的文件名")]),t._v(" "),s("li",[t._v("data：追加数据，文件追加的默认flag是a；")])]),t._v(" "),s("p",[t._v("同步："),s("code",[t._v("fs.appendFileSync(filename,data[,options])")])]),t._v(" "),s("h3",{attrs:{id:"拷贝文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拷贝文件"}},[t._v("#")]),t._v(" 拷贝文件")]),t._v(" "),s("p",[t._v("异步："),s("code",[t._v("fs.copyFile(filenameA,filenameB,callback)")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("filenameA")]),t._v("：原始文件名")]),t._v(" "),s("li",[s("code",[t._v("filenameB")]),t._v("：拷贝文件名")])]),t._v(" "),s("p",[t._v("同步："),s("code",[t._v("fs.copyFileSync(filepath,filepath1)")])]),t._v(" "),s("h3",{attrs:{id:"删除文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除文件"}},[t._v("#")]),t._v(" 删除文件")]),t._v(" "),s("p",[t._v("异步："),s("code",[t._v("fs.unlink(path,callback)")])]),t._v(" "),s("p",[t._v("同步："),s("code",[t._v("fs.unlinkSync(path)")])]),t._v(" "),s("p",[t._v("读取小文件时，直接使用"),s("code",[t._v("readFile()")]),t._v("或"),s("code",[t._v("readFileSync()")]),t._v("；")]),t._v(" "),s("p",[t._v("读取大文件时，使用文件流；")]),t._v(" "),s("h2",{attrs:{id:"三、文件流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、文件流"}},[t._v("#")]),t._v(" 三、文件流")]),t._v(" "),s("h3",{attrs:{id:"读文件-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#读文件-2"}},[t._v("#")]),t._v(" 读文件")]),t._v(" "),s("p",[s("code",[t._v("fs.createReadStream(path[,options])；")])]),t._v(" "),s("p",[t._v("五个常用事件：data,end,open,close,error，通过on监听")]),t._v(" "),s("h3",{attrs:{id:"写文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#写文件"}},[t._v("#")]),t._v(" 写文件")]),t._v(" "),s("p",[s("code",[t._v("fs.createWriteStream(path[,options])")]),t._v(";")]),t._v(" "),s("p",[t._v("两个常用事件："),s("code",[t._v("finish")]),t._v("和"),s("code",[t._v("error")]),t._v("；")]),t._v(" "),s("p",[t._v("两个常用方法："),s("code",[t._v("write")]),t._v("[写],"),s("code",[t._v("end")]),t._v(";  end必须调用，无论有无参数；")]),t._v(" "),s("p",[t._v("创建之后是一个对象，里面有一些方法可以使用；")]),t._v(" "),s("p",[t._v("事件：.on调用事件，之后写一个回调函数("),s("code",[t._v("fs.on(event,callback)")]),t._v(")；")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将文件打开并写入数据;    也可以直接使用管道流")]),t._v("\nrs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'open'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'打开成功....'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"四、管道流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、管道流"}},[t._v("#")]),t._v(" 四、管道流")]),t._v(" "),s("p",[s("code",[t._v("fs.pipe()")]),t._v("；")]),t._v(" "),s("p",[s("code",[t._v("readStream.pipe(writeStream)")]),t._v("；")]),t._v(" "),s("p",[t._v("将读取到的文件流入写入的文件")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createReadStream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("__dirname"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/...")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ws "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createWriteStream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("__dirname"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/...")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pipe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ws"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"五、目录操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、目录操作"}},[t._v("#")]),t._v(" 五、目录操作")]),t._v(" "),s("h3",{attrs:{id:"创建新目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建新目录"}},[t._v("#")]),t._v(" 创建新目录")]),t._v(" "),s("p",[t._v("异步："),s("code",[t._v("fs.mkdir(path[,options],callback)；")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("options")]),t._v("：一个对象：\n"),s("ul",[s("li",[s("code",[t._v("recursive:true")]),t._v("；递归创建（文件存在不报错）；")])])])]),t._v(" "),s("p",[t._v("同步："),s("code",[t._v("fs.mkdirSync(path[,options])")]),t._v(";没有返回值；")]),t._v(" "),s("p",[s("code",[t._v("fs.existsSync(path)")]),t._v(" 判断目录是否存在的根目录上使用"),s("code",[t._v("fs.mkdir()")]),t._v("即使使用递归参数，都会报错；")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("recursive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"读取目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#读取目录"}},[t._v("#")]),t._v(" 读取目录")]),t._v(" "),s("p",[t._v("异步："),s("code",[t._v("fs.readdir(path,callback)")]),t._v(";")]),t._v(" "),s("p",[t._v("同步："),s("code",[t._v("fs.readdirSync(path)")]),t._v(";")]),t._v(" "),s("h3",{attrs:{id:"删除目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除目录"}},[t._v("#")]),t._v(" 删除目录")]),t._v(" "),s("p",[t._v("异步："),s("code",[t._v("fs.rmdir(path,callback)")]),t._v(";   不能删除有文件的目录；")]),t._v(" "),s("p",[t._v("同步："),s("code",[t._v("fs.rmdirSync(path)")]),t._v("；")]),t._v(" "),s("p",[t._v("实例1：删除空目录时使用rmdir就可以了，删除非空目录需要使用递归；")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("dirName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" dirs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readdirSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dirName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//打开文件")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//循环这个目录所有的文件")]),t._v("\n    dirs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//拼接一个完整的路径，注意使用形参路径;")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" curPath "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dirName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取文件的状态，来判断文件是否是一个目录;")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" stats "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("statSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("curPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stats"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDirectory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("curPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("unlinkSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("curPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rmdirSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dirName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//删除这个文件；")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("__dirname"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/test")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("实例2：快速重命名")]),t._v(" "),s("p",[t._v("（1）一次性替换所有文件的名字；")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" fs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n*\n*@param {String} dirName\n*@param {String} oldStr\n*@param {String} newStr\n*/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rename")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("dirName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("oldStr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("newStr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" dirArr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readdirSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dirName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("dirArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("renameSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("dirName"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("dirArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("dirName"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("dirArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldStr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("newStr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rename")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./files'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pink'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("（2）通过shift+右键   打开PowerShell可以使用")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("Get-ChildItem * "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" rename-item -newname "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$_")]),t._v(".name -replace "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),t._v(","),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'你好'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("（3）打开cmd，输入node，输入以下的代码即可")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readdirSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("i")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("renameSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("./")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("./")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"六、文件操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、文件操作"}},[t._v("#")]),t._v(" 六、文件操作")]),t._v(" "),s("h3",{attrs:{id:"新建文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新建文件"}},[t._v("#")]),t._v(" 新建文件")]),t._v(" "),s("p",[t._v("writeFile的时候，如果没有就自动创建；")]),t._v(" "),s("p",[t._v("异步："),s("code",[t._v("fs.writeFile(path,data[,options],callback)；")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./files'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'创建文件成功'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("同步："),s("code",[t._v("fs.writeFileSync(path, data[,options])")])]),t._v(" "),s("p",[t._v("如果直接写文件名字，则创建到根目录，如果需要创建到指定目录，可以使用"),s("code",[t._v("path.resolve")]),t._v("给全路径")]),t._v(" "),s("h3",{attrs:{id:"复制文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#复制文件"}},[t._v("#")]),t._v(" 复制文件")]),t._v(" "),s("p",[s("code",[t._v("fs.copyFile(src,dest,callback)")]),t._v("；源文件，目标文件；")]),t._v(" "),s("p",[s("code",[t._v("fs.copyFileSync(src,dest)")])]),t._v(" "),s("p",[t._v("也可以使用流操作复制文件；")]),t._v(" "),s("h3",{attrs:{id:"重命名文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重命名文件"}},[t._v("#")]),t._v(" 重命名文件")]),t._v(" "),s("p",[t._v("异步："),s("code",[t._v("fs.rename(oldPath,newPath,callback)")]),t._v(";  也可以重命名")]),t._v(" "),s("p",[t._v("同步："),s("code",[t._v("fs.renameSync(oldPath,newPath)")]),t._v("；")]),t._v(" "),s("h3",{attrs:{id:"删除文件-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除文件-2"}},[t._v("#")]),t._v(" 删除文件")]),t._v(" "),s("p",[t._v("异步："),s("code",[t._v("fs.unlink(path,callback)")]),t._v(";    不能删除目录；")]),t._v(" "),s("p",[t._v("同步："),s("code",[t._v("fs.unlinkSync(path)")]),t._v(";")]),t._v(" "),s("h3",{attrs:{id:"文件状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件状态"}},[t._v("#")]),t._v(" 文件状态")]),t._v(" "),s("p",[t._v("异步：fs.stat(path,callback)")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("callback")]),t._v("有两个参数：err，stats，stats是fs.stats，返回的是一个对象；\n"),s("ul",[s("li",[t._v("stats.isDirectory()；是否是一个目录；")]),t._v(" "),s("li",[t._v("stats.isFile()是否是一个文件；")])])])]),t._v(" "),s("p",[t._v("同步："),s("code",[t._v("fs.statSync(path);")])]),t._v(" "),s("h2",{attrs:{id:"五、获取时间的第三方包-time-stamp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、获取时间的第三方包-time-stamp"}},[t._v("#")]),t._v(" 五、获取时间的第三方包(time-stamp)")]),t._v(" "),s("ol",[s("li",[t._v("安装  "),s("code",[t._v("npm i time-stamp")])]),t._v(" "),s("li",[t._v("‘YYYY-MM-DD HH:mm:ss’   年月日，时分秒；ms毫秒，需要加引号；")]),t._v(" "),s("li",[t._v("直接使用方法：timestamp();   获取当前年月日；")]),t._v(" "),s("li",[t._v("timestamp.utc()；获取国际时间；")])]),t._v(" "),s("h2",{attrs:{id:"六、global全局对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、global全局对象"}},[t._v("#")]),t._v(" 六、global全局对象")]),t._v(" "),s("p",[t._v("在js模板中，没有window对象，使用global访问全局对象")]),t._v(" "),s("p",[t._v("全局对象，没有使用var、let、const声明的变量")]),t._v(" "),s("p",[t._v("对于全局变量，声明了一个全局对象，则会一直存在，即使删除了声明的变量，除非关闭文件；")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\nb "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 10")]),t._v("\n")])])]),s("h2",{attrs:{id:"七、缓冲器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#七、缓冲器"}},[t._v("#")]),t._v(" 七、缓冲器")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("什么是缓冲器：可以直接操作内存；")]),t._v(" "),s("p",[t._v("可以将Buffer看作数组，buffer可以操作二进制；")]),t._v(" "),s("p",[t._v("buffer在全局作用域中，因此不需要require；")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("Buffer.alloc();")])]),t._v(" "),s("p",[t._v("分配空间，用0去初始化，括号填写多少个字节；")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("Buffer.allocUnsafe()")]),t._v("；（不安全）")]),t._v(" "),s("p",[t._v("分配空间，并未初始化；")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("Buffer.from()")]),t._v("；")]),t._v(" "),s("p",[t._v("可以放字符串，数组，存放的是ascii码；")]),t._v(" "),s("p",[t._v("utf-8和gbk的区别\nutf-8一个汉字3个字节\n，gbk一个汉字2个字节；")])])]),t._v(" "),s("h2",{attrs:{id:"八、path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#八、path"}},[t._v("#")]),t._v(" 八、path")]),t._v(" "),s("p",[s("code",[t._v("path.basename(p,[ext])")]),t._v("  第二个参数为要去除的后缀")]),t._v(" "),s("p",[s("code",[t._v("path.extname")]),t._v(" 获取文件后缀")])])}),[],!1,null,null,null);a.default=e.exports}}]);